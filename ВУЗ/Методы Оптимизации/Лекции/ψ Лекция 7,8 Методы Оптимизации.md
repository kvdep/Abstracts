# Многокритериальная оптимизация.
$f(x) = (f_1(x),f_2(x),...,f_m(x)), x \in X$ 
Определение: $x^{*}$ - эффективная, или же оптимальная точка по Парето стратегии, $f(x^{*}) = (f_1(x^*),f_2(x^*),...,f_m(x^*))$, если $\overline{\exists} x\in X f(x) \geq f(x^*), \exists i_0 f_{i_0}(x)>f_{i_0}(x^*)$ 
$f(x) = (f_1(x),f_2(x)) \to max$ 
![[Pasted image 20251128104244.png]]
1 Метод свертки критерия $f_0 = F(f_1, ..., f_m)$
1) Линейная свертка (суммирование по всем критериям)
	$f_0 = \underset{i=1}{\overset{m}{\sum}}\alpha_i f_i(x)$
	$\underset{i=1}{\overset{m}{\sum}}\alpha_i =1, \alpha_i \geq 0$ (ограничение не обязательно существует)  
	$\underset{i=1}{\overset{m}{\sum}}\alpha_i f_i(x) \to \underset{x\in X}{max}$
	Теорема Карлина:
	$\sigma_p^2 \to min$
	$\mu_p(x) \geq \mu_0$
	$\underset{\alpha>0}{\mu_p(x)}-\alpha \sigma_p(x) \to \underset{xe=1}{max}$ , $xe$ - x единичный вектор
2) Оценка по наихудшему критерию (с уловным весом)
	 $f_0 = \underset{i = 1,...,m}{min}\text{ }\alpha_i f_i (x)$ 
	 $min\alpha_i f_i(x) \to \underset{x\in X}{max}$ (по теореме Гермейера)

Пример
$f_1(x) = 4x_1 + x_2 \to max$
$f_2(x) = x_1 + 2x_2 \to max$
$X = \{x|x_1 + x_2 \leq 7, x_1 \leq 5, x_2 \leq, x \geq 0 \}$ 
1) найти оптимальные по Парето стратегий
2) найти решения, используя линейную свертку с весами $\alpha_1 = 1, \alpha_2 = \frac{1}{2}$
3) найти множество Парето
![[Pasted image 20251128105224.png]]
$f_1' = (4,1)$
$f_2' = (1,2)$
BC - множество оптимальное по Парету 
BC: $t(3,4) + (1-t)(5,2)$
$f_0 = \alpha_1 f_1 + \alpha_2 f_2 = 1(4x_1 + x_2) + \frac{1}{2}(x_1 + 2x_2) = \frac{9}{2}x_1 + 2x_2 \to max$ , $x^* = (5,2)$
$X \to Y$
$f = \pmatrix{4x_1 + x_2 \\ x_1 + 2x_2} = \pmatrix{4 \text{ } 1 \\ 1 \text{ } 2} \pmatrix {x_1 \\ x_2}$   
$A \to A'(4,8)$
$B \to B'(16,11)$
$C\to C'(22,9)$
$D\to D'(20,5)$
$0 \to 0'(0,0)$
![[Pasted image 20251128110442.png]]
$max f_1: \underline{B'C'}D'O'$
$max f_2: O'A'\underline{B'C'}$ 

2 Метод последовательных уступок
1) упорядочим критерий по убыванию степени $f_1,f_2, ... f_m$
2) $f_1 \to max, x\in X, x^{*^1}, f_1(x^{*^1})$ 
3) $f_2 \to max, x\in X$, при условии, что уступка по $f_1 \text{ равна } n_1\%:f_1(x^{*^1})'(1-\frac{n_1}{100}) \Rightarrow x^{*^2}, f_2(x^{*^2})$  
4) $f_3 \to max, x\in X, f_1(x) \geq f_1(x^{*^1})(1 - \frac{n_1}{100})$ при условии условии, что уступок по $f_2 \text{ равен } n_2\%: f_2(x) \geq f(x^{*^2})(1-\frac{n_2}{100}) \Rightarrow x^{*^3}, f_3(x^{*^3})$
	до $f_m(x)$ : $x^{*^m}$ - решение задачи

Пример
Уступок по $f_2$ 5%
$\underset{x\in X}{f_2(x)} = x_1 + 2x_2 \to max,$ 
$x^{*^2} = (3,4)$ , $f_2(x^{*^2}) = 11$
$f_1(x) = 4x_1 + x_2 \to max, x\in X, x_1 + 2x_2 \geq 11(1-\frac{5}{100})$
$\begin{cases} x_1 + 2x_2 = 10.45 \\ x_1 + x_2 = 7\end{cases} \Rightarrow = x^{*}_y(3.55,3.45)$ 


3 Метод ограничений 
Определяется самый важный критерий ($f_1$) и по нему проводится оптимизация, а по остальным критериям проводится оптимизация 
$f_1(x)\to max, x\in X, f_i(x)\geq l_i, i=2,...,m$
пусть $l_1=19$: $f_2(x) = x_1 + 2x_2 \to max, x\in X, 4x_1 + x_2 \geq 19$
$\begin{cases}4x_1 + x_2 = 19 \\ x_1 + x_2 = 7\end{cases} \Rightarrow x^*_0 = (4,3)$


4 Метод приоритетов 
1) Упорядочим критерии по убыванию степени важности $f_1,f_2,...,f_m$
2) $f_1\to max, x\in X, x^{*^1}\in X^{*^1}$ (если $X^{*^1}$ состоит из одной точки, то $x^*_1$ - решение задачи)
3) $f_2\to max, x\in X, x^{*^1}\in X^{*^1} \Rightarrow x^*_2$  

5 Метод идеальной точки
$f^0 = (f_1^0,f_2^0,...,f_m^0) = (\underset{x\in X}{f_1(x)},\underset{x\in X}{max f_2(x)},...,\underset{x\in X}{max f_m(x)})$ - идеальная точка
$(f_1^*,f_2^*,...,f^*_m) = \underset{f(x)\in Y}{min}\rho(f(x),f^0), Y = \{f(x)\in R^m | y = f(x), x\in X\}$   
$f^0 = (22,11)$
$\rho$ -  евклидова метрика $\rho_2$ (в задаче $\rho_2^2$, можем в силу монотонности)
$(f_1 - 22)^2 + (f_2 - 11)^2 \to \underset{f\in B'C'}{min}$ 
![[Pasted image 20251128120008.png]]
$B'C': \frac{f_1 - 16}{22 - 16} = \frac{f_2-11}{9-11} \Rightarrow f_1 + 3f_2 = 49$
$\perp B'C': \frac{f_1-22}{1} = \frac{f_2-11}{3}  \Rightarrow 3f_1 - f_2 = 55$
$\begin{cases}f_1 + 3f_2 = 39 \\ 3f_1 - f_2 = 55\end{cases} \Rightarrow \begin{cases} f_1^* = 21.4 = 4x_1 + x_2 \\ f_2^* = 9.2 = x_1 + 2x_2\end{cases} \Rightarrow \begin{cases}x_1^* = 4.8 \\ x_2^* = 2.2\end{cases}$ 
$L(f,\lambda) = (f_1 - 22)^2 + (f_2 - 11)^2 + \lambda(49-f_1-3f_2) \to \underset{f}{min}$
$\begin{cases}L'_{f_1} = 2(f_1-22) - \lambda = 0 \\ L'_{f_2} = 2(f_2 - 11) - 3\lambda = 0 \\ L'_{\lambda} = 49-f_1 - 3f_2 = 0\end{cases} \Rightarrow f^* = (21.4, 9.2)$  
необходимое и достаточное

$\rho$ - метрика $\rho_1$
$\rho_1(f_1,f^0) = |f_1-22| + |f_2-11|\to \underset{f\in B'C': f_1 + 3f_2 = 49}{min}$
$|f_1-22| + |f_2-11|=C=10$
![[Pasted image 20251128122413.png]]
$\rho_{\infty 2} max\{|f_1-22|,|f_2-11|\}\to \underset{f\in B'C'}{min}, C=10$ 
$\begin{cases}-(f_1-22)=-(f_2-11) \\ f_1 + 3f_2 = 49\end{cases} \Rightarrow f^* = (20.5,9.5) \Rightarrow x^* = (4.5,2.5)$ 
$\underset{i = 1,...,m}{max}\{|f_i - f_i^0| \} = l_0$
$l_0 \to \underset{f,d_0}{min}, f\in Y, f_i - f_i^* \leq l_0, -(f_i - f_i^*)\leq d_0,i = 1,...,m$  
$f_i - f_i^* = d_i^+ - d_i^-$
$\underset{i=1}{\overset{m}{\sum}}(d_i^+ + d_i^-)\to min, f \in Y$


# Целевое программирование
$Y^0$ - утопическое множество (векторов, которые недостижимы)
$Y^0 = \{y\in R^m | y\in f(x), y_i\in [y_i^1,y_i^2]\}$ 
$y_i^1 = y_i^2$ - точки (но не обязательно идеальная точка)
$y_i^2 = \infty$ $y_i \in [y^1,\infty)$
$Y^0 = \{f_1 = 20, f_2\geq 10\}$
$\begin{cases}\frac{f_1-20}{1} = \frac{f_2-10}{3} \\ f_1 + 3f_2 = 49\end{cases} \Rightarrow f^* = (19.9,9.7)$
$\begin{cases}f_1-20=f_2-10 \\ f_1 + 3f_2 = 49\end{cases} \Rightarrow f^* = (\frac{79}{4}, \frac{39}{4})$


Метод анализа иерархий
$C_1, C_2, ..., C_n$ - объекты
$C_1, C_2, ..., C_n \to w_1, ..., w_n$ 
$\mathcal{A}$ = $\pmatrix{1 \ a_{12} \ a_{13} \ ... \ a_{1n} \\ a_{21} \ 1 \ a_{23} ... a_{2n} \\ ... \\ a_{n1} \ a_{n2} \ ... \ 1 }$ = $\pmatrix{1 \ a_{12} \ a_{13} \ ... \ a_{1n} \\ \frac{1}{a_{21}} \ 1 \ ... \\ ... \\ \frac{1}{a_{n1}} \ \frac{1}{a_{n2}} \ ... \ 1 }$     
$a_{ij}$ - суждение о том, насколько критерий i важнее j
$c_1 = a_{12}c_2$
$c_2=\frac{1}{a_n}c_1$
Определение: А - согласованная, если $a_{ik} = a_{ij} \cdot a_{jk}$
Для согласованной матрицы порядка необходимо (n-1) суждений о парных сравнениях для получения остальных
$n=3, n-1=2, c_1=3c_2,c_1=6c_3\Rightarrow c_2=2c_3$ 
$\pmatrix{1 \ 3 \ 6 \\ \frac{1}{3} \ 1 \ 2 \\ \frac{1}{6} \ \frac{1}{2} \ 1}$ 
$\mathcal{A}$ = $\pmatrix{1 \ a_{12} \ a_{13} \ ... \ a_{1n} \\ a_{21} \ 1 \ a_{23} ... a_{2n} \\ ... \\ a_{n1} \ a_{n2} \ ... \ 1 }$ = $\pmatrix{1 \ a_{12} \ a_{13} \ ... \ a_{1n} \\ \frac{1}{a_{21}} \ 1 \ ... \\ ... \\ \frac{1}{a_{n1}} \ \frac{1}{a_{n2}} \ ... \ 1 }$ = $\pmatrix{\frac{w_1}{w_1} \ \frac{w_1}{w_2} \ \frac{w_1}{w_3} \ ... \ \frac{w_1}{w_n} \\ \frac{w_2}{w_1} \ \frac{w_2}{w_2} \ \frac{w_2}{w_3} \ ... \ \frac{w_2}{w_n}\\ ... \\ \frac{w_n}{w_1} \ \frac{w_n}{w_2} \ \frac{w_n}{w_3} \ ... \ \frac{w_n}{w_n}}$

Пример
$A = \pmatrix{1 \ \frac{3}{2} \ 3 \\ \frac{2}{3} \ 1 \ 2 \\ \frac{1}{3} \ \frac{1}{2} \ 1 }$ 
А - согласованная матрица?
$C_2 = \frac{2}{3}C_1$
$C_3 = \frac{1}{2}C_2 \Rightarrow 2C_3 = C_2$
$\frac{2}{3}C_1 = 2C_3 \Rightarrow C_1 = 3C_3$
Ответ: да
w-?
n=3
$\begin{cases}(1-3)w_1 + \frac{3}{2}w_2 + 32_3 = 0 \\ \frac{2}{3}w_1 + (1-3)w_2 + 2w_3 = 0 \\ \frac{1}{3}w_1 + \frac{1}{2}w_2 + (1-3)w_3 = 0 \\ w_1 + w_2 + w_3 = 1\end{cases} \Rightarrow w = (\frac{1}{2},\frac{1}{3},\frac{1}{6})$

Для несогласованной матрицы
1) $w_i = \frac{\overset{n}{\underset{j=1}{\sum a_{ij}}}}{\overset{n}{\underset{i,j=1}{\sum a_{ij}}}} \forall i$ (согл?)
2) $w_i = \frac{\frac{1}{\overset{n}{\underset{i=1}{\sum a_{ij}}}}}{\overset{n}{\underset{j=1}{\sum}}\frac{1}{\overset{n}{\underset{j=1}{\sum a_{ij}}}}}$  